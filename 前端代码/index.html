<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <title>故障诊断分析平台 - Web版</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #wrap {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: #f2f2f2;
            flex-shrink: 0;
        }

        header ul li {
            height: 35px;
            line-height: 35px;
            text-align: center;
            display: none;
            color: #323237;
            position: relative;
            font-size: 18px;
        }

        header ul li.active {
            display: block;
        }

        #main-iframe {
            flex-grow: 1;
            border: none;
            overflow: auto;
        }

        #footer {
            background-color: #f2f2f2;
            flex-shrink: 0;
        }

        #footer ul li {
            padding-top: 36px;
            padding-bottom: 4px;
            background: url() no-repeat center 2px;
            background-size: auto 30px;
            text-align: center;
            cursor: pointer;
        }

        #footer ul li.active {
            color: #6ab494;
        }

        #footer ul li:nth-child(1) {
            background-image: url(./image/bottombtn0101.png);
        }

        #footer ul li:nth-child(2) {
            background-image: url(./image/bottombtn0201.png);
        }

        #footer ul li:nth-child(3) {
            background-image: url(./image/bottombtn0301.png);
        }

        #footer ul li:nth-child(1).active {
            background-image: url(./image/bottombtn0102.png);
        }

        #footer ul li:nth-child(2).active {
            background-image: url(./image/bottombtn0202.png);
        }

        #footer ul li:nth-child(3).active {
            background-image: url(./image/bottombtn0302.png);
        }
    </style>
</head>

<body>
    <div id="wrap">
        <header>
            <ul>
                <li class="border-b active">
                    <p style="margin-top:0px">故障诊断分析平台</p>
                </li>
                <li class="border-b">
                    <p style="margin-top:0px">故障诊断分析平台</p>
                </li>
                <li class="border-b">
                    <p style="margin-top:0px">故障诊断分析平台</p>
                </li>
            </ul>
        </header>

        <iframe id="main-iframe" name="contentFrame" src="./html/frame0.html"></iframe>

        <div id="footer" class="border-t">
            <ul class="flex-wrap">
                <li onclick="switchTab(this, 0, './html/frame0.html');" class="flex-con active">首页</li>
                <li onclick="switchTab(this, 1, './html/frame1.html');" class="flex-con">故障诊断</li>
                <li onclick="switchTab(this, 2, './html/frame2.html');" class="flex-con">使用说明</li>
            </ul>
        </div>
    </div>

    <script type="text/javascript">
        const contentFrame = document.getElementById('main-iframe');
        const footerLis = document.querySelectorAll('#footer li');
        const headerLis = document.querySelectorAll('header li');

        // 全局导航函数，供 iframe 内部页面调用
        function navigateTo(url) {
            if (contentFrame) {
                contentFrame.src = url;
            }
        }

        // 切换底部 Tab
        function switchTab(tabElement, index, url) {
            if (tabElement.classList.contains('active')) {
                return;
            }

            // 更新底部导航样式
            footerLis.forEach((li, i) => {
                li.classList.toggle('active', i === index);
            });

            // 更新头部标题样式
            headerLis.forEach((li, i) => {
                li.classList.toggle('active', i === index);
            });

            // 切换 iframe 内容
            navigateTo(url);
        }
    </script>
</body>

</html>